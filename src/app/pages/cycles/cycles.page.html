<ion-header [translucent]="true">
  <ion-toolbar>
    <!-- Toolbar options -->
    <ion-buttons slot="start">
      <ion-menu-button menu="main-menu"></ion-menu-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-card-title class="title-dark">Ciclos</ion-card-title>

  <!-- Last cycle -->
  <ion-card class="card" *ngIf="symptomsExist">
    <ion-card-header>
      <ion-card-title>Ãšltimo periodo</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <ion-text>{{ lastPeriodFormatted }}<br></ion-text>
    </ion-card-content>
  </ion-card>

  <!-- History of cycles -->
  <ion-card class="card" *ngIf="symptomsExist">
    <ion-card-header>
      <ion-card-title>Siguientes periodos</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <ion-text *ngFor="let period of nextPeriod">{{ period }}<br></ion-text>
    </ion-card-content>
  </ion-card>

  <ion-card class="card" *ngIf="!symptomsExist">
    <ion-card-header>
      <ion-card-title>No tienes registrado el periodo</ion-card-title>
      <ion-card-content style="padding-inline-start: 0; padding-bottom: 0;">
        <ion-button class="button-white" shape="round" [routerLink]="['/calendar']">Ir al calendario</ion-button>
      </ion-card-content>
    </ion-card-header>
  </ion-card>

  <!-- Button to download a full report -->
  <ion-button class="button-dark btn-fix-bottom" shape="round" (click)="generatePDF()"><ion-icon name="cloud-download-outline" style="padding-right: 10px;"></ion-icon> Descargar reporte</ion-button>

  <!-- Floating action button to navigate to the chat -->
  <ion-fab slot="fixed" vertical="bottom" horizontal="end">
    <ion-fab-button class="fab" [routerLink]="['/chat']">
      <ion-icon name="chatbubble-ellipses"></ion-icon>
    </ion-fab-button>
  </ion-fab>
</ion-content>

<div class="spinner-container" *ngIf="isLoading">
  <ion-spinner name="bubbles" color="primary" style="height: 80px; width: 80px;"></ion-spinner>
</div>
